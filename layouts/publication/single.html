{{ define "main" }}
<div class="container mt-12">
  <div class="row">
    <div class="col-lg-8 col-md-10 mx-auto">
      <h1>{{ .Title }}</h1>

      {{ if .Params.authors }}
      <p class="mb-2 text-gray-600">
        {{ range $idx, $author := .Params.authors }}
          {{ if gt $idx 0 }}, {{ end }}
          {{ if eq $author "me" }}
            <strong>Jie Zhang</strong>
          {{ else }}
            {{ $author }}
          {{ end }}
        {{ end }}
      </p>
      {{ end }}

      {{ if .Params.publication }}
      <p class="mb-4 text-gray-700">
        <em>{{ .Params.publication }}</em>
      </p>
      {{ end }}

      {{ if .Params.image }}
      <div class="mb-6">
        {{ $image := .Resources.GetMatch .Params.image.filename }}
        {{ if $image }}
          <img src="{{ $image.RelPermalink }}" alt="{{ .Title }}" class="img-fluid rounded">
        {{ end }}
      </div>
      {{ end }}

      {{ if .Params.abstract }}
      <div class="mb-6">
        <h2>Abstract</h2>
        <p>{{ .Params.abstract }}</p>
      </div>
      {{ end }}

      {{ if .Content }}
      <div class="mb-6">{{ .Content }}</div>
      {{ end }}

      {{ if .Params.links }}
      <div class="mb-6">
        <h3>Resources</h3>
        <div class="space-y-2">
          {{ range .Params.links }}
            <a href="{{ .url }}" class="btn btn-primary mr-2" target="_blank" rel="noopener noreferrer">
              {{ if eq .type "source" }}View on arXiv{{ end }}
              {{ if eq .type "code" }}View Code on GitHub{{ end }}
              {{ if eq .type "dataset" }}View Dataset{{ end }}
              {{ if eq .type "pdf" }}Download PDF{{ end }}
              {{ if and (ne .type "source") (ne .type "code") (ne .type "dataset") (ne .type "pdf") }}{{ .type }}{{ end }}
            </a>
          {{ end }}
        </div>
      </div>
      {{ end }}

      <div class="mt-8 pt-6 border-t">
        <a href="/publication/" class="text-blue-600 hover:text-blue-800">‚Üê Back to all publications</a>
      </div>
    </div>
  </div>
</div>
{{ end }}
